<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Punkte mit D3.js – Dreieck zeichnen (Snap), Zoom/Pan & JSON-Import/Export (mit Namensreferenz)</title>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
  :root { --pad: 10px; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial; margin: 0; }
  header { padding: var(--pad); border-bottom: 1px solid #e5e7eb; }
  .controls { display: flex; flex-wrap: wrap; gap: 12px; padding: var(--pad); align-items: center; }
  .controls label { white-space: nowrap; }
  .controls input[type="range"] { vertical-align: middle; }
  #chart { padding: var(--pad); }
  button { padding: 8px 12px; border-radius: 8px; border: 1px solid #cbd5e1; background: #fff; cursor: pointer; }
  button:hover { background: #f8fafc; }
  button.active { background: #e0f2fe; border-color: #38bdf8; }
  .hint { font-size: 12px; color: #475569; }
  .axis path, .axis line { stroke: #94a3b8; }
  .tri { stroke: rgba(79,70,229,0.9); stroke-width: 2px; }
  .temp-edge { stroke: #0ea5e9; stroke-dasharhjray: 4 4; stroke-width: 2px; fill: none; }
  .snap-marker { fill: none; stroke: #0ea5e9; stroke-width: 2px; pointer-events: none; }
  .picked { fill: #f59e0b !important; stroke: #b45309; }
  .hidden { display:none; }
</style>
</head>
<body>
<header>
  <h2 style="margin:0">Punkte mit D3.js – Dreieck-Zeichnen (Snap), Zoom/Pan & JSON-Import/Export</h2>
  <div class="hint">Dreiecke speichern jetzt <strong>Namen</strong> statt Indizes, damit die Referenzen stabil bleiben, auch wenn sich die Punktliste ändert.</div>
</header>

<div class="controls">
  <label>Punktgröße: <input id="radiusSlider" type="range" min="1" max="20" step="1" value="4"></label>
  <span id="radiusVal">4</span>
  <label>Farbskalierung: <input id="colorSlider" type="range" min="0.1" max="5" step="0.1" value="1"></label>
  <span id="colorVal">1</span>
  <button id="btnNew">Neues Dreieck</button>
  <button id="btnCancel">Abbrechen</button>
  <button id="btnSave">Save Dreiecke</button>
  <button id=\"btnExportSTL\">Export STL</button>
  <button id="btnImport">Import JSON</button>
  <input id="fileInput" type="file" accept="application/json" class="hidden"/>
  <span class="hint" id="status">Bereit.</span>
</div>

<div id="chart"></div>
dsfgvfldökglökfmblökfgbnkjfgnbkljfgnbjknfgköbnökjfgnbökfg
<script>
  </script>
</body>
</html>
